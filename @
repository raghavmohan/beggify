function drawPieChart(){
  // Load the Visualization API and the piechart package.
  google.load('visualization', '1.0', {'packages':['corechart']});
  // Set a callback to run when the Google Visualization API is loaded.
  google.setOnLoadCallback(drawVisual);
  function getData() {
    $.get(window.location.pathname+".json",
          function(data){
            var returnArr=[];
            $.each(data, function (){
              var f = this;
              $.get("/performance_amount/"+ this.id+".json", function (amount){
                returnArr.push([f.name, amount]);
              });
            });
            return returnArr;
          }
         );
  };
  // Callback that creates and populates a data table, 
  // instantiates the pie chart, passes in the data and
  // draws it.
  function drawVisual() {
    // Create the data table.
    var chartData = new google.visualization.DataTable();
    chartData.addColumn('string', 'Name');
    chartData.addColumn('number', 'Amount');
    $.get(window.location.pathname+".json",
          function(data){
            var returnArr=[["Name", "Amount"]];
            $.each(data, function (){
              var f = this;
              $.get("/performance_amount/"+ this.id+".json", function (amount){
                arr = []
                arr.push(f.name);
                arr.push(parseInt(amount,10));
                returnArr.push(arr);
              });
            });
            console.log(returnArr);
            var chartData = google.visualization.arrayToDataTable([
                                                                  ['Name', 'Amount'],                                  ['Classical',     311],
                                                                  ['Rock',  1340],
                                                                  ['Pop',  326],
                                                                  ['Punk', 123],
                                                                  ['Photos', 1000]
            ]);

            var options = {
              title: 'Earnings by Name',
              width:300,
              height:400,
              backgroundColor:"transparent",
              legend: {textStyle: {color: 'white'}}};

              var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
              chart.draw(chartData, options);
          }
         );
  }
}

function drawScatter(){
  // Load the Visualization API and the piechart package.
  google.load('visualization', '1.0', {'packages':['corechart']});
  // Set a callback to run when the Google Visualization API is loaded.
  google.setOnLoadCallback(drawVisual);
  function getData() {
    $.get(window.location.pathname+".json",
          function(data){
            var returnArr=[];
            $.each(data, function (){
              var f = this;
              $.get("/performance_amount/"+ this.id+".json", function (amount){
                returnArr.push([f.name, amount]);
              });
            });
            return returnArr;
          }
         );
  };
  // Callback that creates and populates a data table, 
  // instantiates the pie chart, passes in the data and
  // draws it.
  function drawVisual() {
    // Create the data table.
    var chartData = new google.visualization.DataTable();
    chartData.addColumn('string', 'Name');
    chartData.addColumn('number', 'Amount');
    $.get(window.location.pathname+".json",
          function(data){
            var returnArr=[["Name", "Amount"]];
            $.each(data, function (){
              var f = this;
              $.get("/performance_amount/"+ this.id+".json", function (amount){
                arr = []
                arr.push(f.name);
                arr.push(parseInt(amount,10));
                returnArr.push(arr);
              });
            });
            console.log(returnArr);
            var chartData = google.visualization.arrayToDataTable([
                                                                  ['Time', 'Amount', 'Other'],
                                                                  [0.5,    100, 1233],
                                                                  [4,  2133, 3412],
                                                                  [5,  255,323],
                                                                  [6, 4003, 1122],
                                                                  [2, 1000, 444]
            ]);

            var options = {
              title: 'Earnings by Time',
              width:300,
              height:400,
              backgroundColor:"transparent"};
              var chart = new google.visualization.ScatterChart(document.getElementById('scatter_div'));
              chart.draw(chartData, options);
          }
         );
  }
}

drawScatter();
drawPieChart();
